<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="ISO-8859-1">
	<title>Admin Management System</title>
	<link rel="stylesheet"
				href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
				integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
				crossorigin="anonymous">
</head>
<body>
<fragment th:replace="fragments/adminnavbar" ></fragment>

<div class ="container">
	<div class = "row">
		<h1> List Courses </h1>
	</div>

	<div class = "row">
		<div class = "col-lg-3">
			<a th:href = "@{/admin/courses/new}" class = "btn btn-primary btn-sm mb-3"> Add Course</a>
		</div>
	</div>
	<table class = "table table-striped table-bordered">
		<thead class = "table-dark">
		<tr>
			<th> Title</th>
			<th> Teacher Id</th>
			<th> Teacher Name</th>
			<th> Teacher Email</th>
			<th> Students Count</th>
			<th> Actions </th>
		</tr>
		</thead>

		<tbody>
		<tr th:each = "course: ${courses}">
			<td th:text = "${course.title}"></td>
			<td th:text = "${course.teacher.id}"></td>
			<td th:text = "${course.teacher.name}"></td>
			<td th:text = "${course.teacher.email}"></td>
			<td th:text = "${course.getStudentList().size()}"></td>
			<td>
				<a th:href = "@{/admin/courses/students/{id}(id=${course.id})}"
					 class = "btn btn-info">Students</a>

				<a th:href = "@{/admin/courses/edit/{id}(id=${course.id})}"
					 class = "btn btn-primary">Update</a>

				<a th:href = "@{/admin/courses/{id}(id=${course.id})}"
					 class = "btn btn-danger">Delete</a>

			</td>
		</tr>
		</tbody>

	</table>

</div>
</body>
</html>